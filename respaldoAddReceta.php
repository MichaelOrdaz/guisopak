
<div class="row" style="margin-top: 31px;">
  
  <div class="col-xs-12">
        
    <div class="panel panel-default">
            
      <div class="panel-heading text-center" style="background-color: #EE7561; color: white;"> Ingresar Receta </div>

      <div class="panel-body">

        <form action="#" method="POST" name="form_receta" id="form_receta" >

          <div class="row">
            

            <div class="col-md-4">
              
              <div class="row">
                
                <div class="col-xs-12">
                  <div class="form-group">
                    <label>ID. Receta</label>
                    <input type="text" name="idReceta" id="idReceta" class="form-control input-sm" placeholder="Ingresar ID de la receta"  />
                  </div>
                </div>

                <div class="col-xs-12">
                  <div class="form-group">
                    <label>Nombre</label>
                    <input type="text" name="nombre" id="nombre" class="form-control input-sm" placeholder="Ingresar nombre de la receta"  />
                  </div>
                </div>

                <div class="col-xs-12">
                  <div class="form-group">
                    <label>Base</label>
                    <input type="text" name="base" id="base" class="form-control input-sm" placeholder="Ingresar base de la receta"  />
                  </div>
                </div>

                <div class="col-xs-12">
                  <div class="form-group">
                    <label>Tiempo</label>
                    <input type="text" name="tiempo" id="tiempo" class="form-control input-sm" placeholder="Ingresar tiempo"  />
                  </div>
                </div>
              
              </div>

            </div>
            <!-- final de col-md -->

            <div class="col-md-4">
              
              <div class="row">
                
                <div class="col-xs-12">
                  <div class="form-group">
                    <label>Calificación</label>
                    <input type="text" name="calificacion" id="calificacion" class="form-control input-sm" placeholder="Ingresar calificación"  />
                  </div>
                </div>

                <div class="col-xs-12">
                  <div class="form-group">
                    <label>Grupo</label>
                    <input type="text" name="grupo" id="grupo" class="form-control input-sm" placeholder="Ingresar grupo"  />
                  </div>
                </div>

                <div class="col-xs-12">
                  <div class="form-group">
                    <label>Observación</label>
                    <input type="text" name="observacion" id="observacion" class="form-control input-sm" placeholder="Observaciones"  />
                  </div>
                </div>

                <div class="col-xs-12">
                  <div class="form-group">
                    <label>Porciones</label>
                    <input type="text" name="porcion" id="porcion" class="form-control input-sm" placeholder="Ingresar Porción"  />
                  </div>
                </div>
              
              </div>

            </div>
            <!-- final de col-md -->

            <div class="col-md-4">
              
              <div class="row">
                
                <div class="col-xs-12">
                  <div class="form-group">
                    <label>Gramos</label>
                    <input type="text" name="gramos" id="gramos" class="form-control input-sm" placeholder="Ingresar gramos"  />
                  </div>
                </div>

                <div class="col-xs-12">
                  <div class="form-group">
                    <label>SubUnidad</label>
                    <input type="text" name="subunidad" id="subunidad" class="form-control input-sm" placeholder="Ingresar subunidad"  />
                  </div>
                </div>

                <div class="col-xs-12">
                  <div class="form-group">
                    <label>Elaboró</label>
                    <input type="text" name="elaboro" id="elaboro" class="form-control input-sm" placeholder="Ingresar nombre de quien elaboro"  />
                  </div>
                </div>

                <div class="col-xs-12">
                  <div class="form-group">
                    <label>Autorizó</label>
                    <input type="text" name="autorizo" id="autorizo" class="form-control input-sm" placeholder="Autorizó"  />
                  </div>
                </div>
              
              </div>

            </div>
            <!-- final de col-md -->

          </div>
                    
          <div class="row" style="margin-bottom: 5px;"> 
            
            <div class="col-md-1 col-sm-12" style="margin-top: 6px;">
              <label style="color: #337ab7;">ID. Receta:</label>
            </div>
            <div class="col-md-3 col-sm-12">
              <input class="form-control" placeholder="Ingrese ID receta" id="idreceta" style="height: 24px;">
            </div>
            
            <div class="col-md-1 col-sm-12" style="margin-top: 6px;">
              <label style="color: #337ab7;">Grupo:</label>
            </div>
            <div class="col-md-3 col-sm-12">
              <select class="form-control" id="grupos" style="height: 28px;"></select>
            </div>
            <div class="col-md-1 col-sm-12" style="margin-top: 6px;">
              <label style="color: #337ab7;">Costo/Unidad:</label>
            </div>
            <div class="col-md-3 col-sm-12">
              <input class="form-control" placeholder="0" id="costounidad" style="height: 24px;">
            </div>
          
          </div>
                    
          <div class="row" style="margin-bottom: 5px;">
            <div class="col-md-1 col-sm-12" style="margin-top: 6px;">
              <label style="color: #337ab7;">Nombre:</label>
            </div>
            <div class="col-md-3 col-sm-12">
              <input class="form-control" placeholder="Ingrese nombre" id="nombre" style="height: 24px;">
            </div>
            <div class="col-md-1 col-sm-12" style="margin-top: 6px;">
              <label style="color: #337ab7;">Observación:</label>
            </div>
            <div class="col-md-3 col-sm-12">
              <input class="form-control" placeholder="Ingrese observación" id="observacion" style="height: 24px;">
            </div>
            <div class="col-md-1 col-sm-12" style="margin-top: 6px;">
              <label style="color: #337ab7;">Elaboro:</label>
            </div>
            <div class="col-md-3 col-sm-12">
              <input class="form-control" placeholder="Ingrese nombre de quien elaboro" id="elaboro" style="height: 24px;">
            </div>
          </div>


          <div class="row" style="margin-bottom: 5px;">
            <div class="col-md-1 col-sm-12" style="margin-top: 6px;">
              <label style="color: #337ab7;">Base:</label>
            </div>
            <div class="col-md-3 col-sm-12">
              <select class="form-control" id="base" style="height: 28px;"> </select>
            </div>
            <div class="col-md-1 col-sm-12" style="margin-top: 6px;">
              <label style="color: #337ab7;">Porciones:</label>
            </div>
            <div class="col-md-3 col-sm-12">
              <input class="form-control" placeholder="Ingrese porciones" id="porciones" style="height: 24px;">
            </div>
            <div class="col-md-1 col-sm-12" style="margin-top: 6px;">
              <label style="color: #337ab7;">Autorizo:</label>
            </div>
            <div class="col-md-3 col-sm-12">
              <input class="form-control" placeholder="Ingrese nombre de quien autorizo" id="autorizo" style="height: 24px;">
            </div>
          </div>

          <div class="row" style="margin-bottom: 5px;">
            <div class="col-md-1 col-sm-12" style="margin-top: 6px;">
              <label style="color: #337ab7;">Tiempo:</label>
            </div>
            <div class="col-md-3 col-sm-12">
              <select class="form-control" id="tiempos" style="height: 28px;"></select>
            </div>
            <div class="col-md-1 col-sm-12" style="margin-top: 6px;">
              <label style="color: #337ab7;">Gramos:</label>
            </div>
            <div class="col-md-3 col-sm-12">
              <input class="form-control" placeholder="Ingrese gramos" id="gramos" style="height: 24px;">
            </div>
          </div>
                        
          <div class="row" style="margin-bottom: 5px;">
            <div class="col-md-1 col-sm-12" style="margin-top: 6px;">
              <label style="color: #337ab7;">Calificación:</label>
            </div>
            <div class="col-md-3 col-sm-12">
              <input class="form-control" placeholder="Ingrese calificacion" id="califica" style="height: 24px;">
            </div>
            <div class="col-md-1 col-sm-12" style="margin-top: 6px;">
              <label style="color: #337ab7;">SubUnidad:</label>
            </div>
            <div class="col-md-3 col-sm-12">
              <input class="form-control" placeholder="Ingrese subunidad" id="subunidad" style="height: 24px;">
            </div>
            <div class="col-md-3" >
              <button type="submit" class="btn btn-default" id="incluirprocedimiento" style="height: 32px;">Incluir procedimiento</button>
              <button type="submit" class="btn btn-default" id="generarreceta" style="height: 32px;">genera receta</button>
            </div>
          </div>
          <!-- endRow -->

        </form>

      </div>
      <!-- /.panel-body -->
    </div>
      <!-- /.panel -->
  </div>
  <!-- /.col-lg-12 -->
</div>

<!-- articulos de la receta -->
<div id="row">

  <div class="col-md-2">
    ID.articulo
    <select class="form-control" id="idarticulo" style="height: 28px;">
      <option selected> -- Id -- </option>
    </select>
  </div>
  <div class="col-md-2">
    Articulo
    <input id="art" list="articulo" class="form-control" style="height: 28px;" placeholder=" -- Seleccion articulo -- " />
    <datalist id="articulo"></datalist>
  </div>

  <div class="col-md-1">
    Cantidad
    <input class="form-control" placeholder="" id="cantidad">
  </div>
  <div class="col-md-3">
    Unidad
    <input class="form-control" placeholder="" id="unidad">
  </div>
  <div class="col-md-2">
    Costo unitario
    <input class="form-control" placeholder="" id="costo">
  </div>
  <div class="col-md-1">
    Costo total
    <input class="form-control" placeholder="" id="costototal">
  </div>
  <div class="col-md-1">
    <button type="submit" class="btn btn-default" id="agregar" style="height: 32px;margin-bottom: 10px;">Agregar</button>
  </div>

</div>

<!-- /.row -->
<div class="row" style="margin-top: 55px;">
<div class="col-lg-12">
    <div class="panel panel-default">
        <!-- /.panel-heading -->
        <div class="panel-body" style="padding-bottom: 2px;">
            <div class="table-responsive">
                <table class="table table-striped table-bordered table-hover" id="dataTables-example">
                    <thead>
                        <tr>
                            <th>ID. Articulo</th>
                            <th>Nombre</th>
                            <th>Cantidad</th>
                            <th>Unidad</th>
                            <th>Costo U</th>
                            <th>Costo T</th>
                        </tr>
                    </thead>
                    <tbody id="tabla">
                    </tbody>
                </table>
            </div>
            <!-- /.table-responsive -->
        </div>
        <!-- /.panel-body -->
    </div>
    <!-- /.panel -->
</div>
<!-- /.col-lg-12 -->
</div>

<script>

$.ajax({
url : 'recetas/agregarrecetas.php',
data : {},
type : 'POST',
dataType: 'json',
async:false,
success:function(respuesta){
respuesta="["+respuesta+"]";
res=JSON.parse(respuesta);
nombre="";
$.each(res,function(key,value){
nombre+="<option>"+value.nombre+"</option>";
});
$('#articulo').html(nombre);
},
});

$('#art').on('input',function(){
$.ajax({
url : 'recetas/agregarrecetas1.php',
data : {nombre:$('#art').val()},
type : 'POST',
dataType: 'json',
async:false,
success:function(respuesta){
respuesta="["+respuesta+"]";
res=JSON.parse(respuesta);
id="";
unidad="";
$.each(res,function(key,value){
id="<option>"+value.id+"</option>";
unidad=value.unidad;
costo=value.costo;
});
$('#idarticulo').html(id);
$('#unidad').val(unidad);
$('#costo').val(costo);
},
});
});

$("#cantidad").keyup(function(){
costototal = 0;
costototal=$('#cantidad').val()*$('#costo').val();
$('#costototal').val(costototal);
});

resultado = 0;
tabla="";

$("#agregar").click(function(){
tabla+="<tr>";
tabla+="<td>"+$('#idarticulo').val()+"</td>";
tabla+="<td>"+$('#articulo').val()+"</td>";
tabla+="<td>"+$('#cantidad').val()+"</td>";
tabla+="<td>"+$('#unidad').val()+"</td>";
tabla+="<td>"+$('#costo').val()+"</td>";
tabla+="<td>"+$('#costototal').val()+"</td>";
costototal=$('#costototal').val();
resultado=resultado+parseFloat(costototal);
tabla+="</tr>";
$('#tabla').html(tabla);
$('#costounidad').val(resultado);
$('#cantidad').val("");
});


$.ajax({
url : 'recetas/agregarrecetas2.php',
data : {},
type : 'POST',
dataType: 'json',
async:false,
success:function(respuesta){
respuesta="["+respuesta+"]";
res=JSON.parse(respuesta);
tabla1="";
tabla1+="<option disable selected> -- Seleccione una base -- </option>";
$.each(res,function(key,value){
tabla1+="<option>"+value.descripcion+"</option>";
});
$('#base').html(tabla1);
},
});

$.ajax({
url : 'recetas/agregarrecetas3.php',
data : {},
type : 'POST',
dataType: 'json',
async:false,
success:function(respuesta){
respuesta="["+respuesta+"]";
res=JSON.parse(respuesta);
tabla1="";
tabla1+="<option disable selected> -- Seleccione tiempo -- </option>";
$.each(res,function(key,value){
tabla1+="<option>"+value.descripcion+"</option>";
});
$('#tiempos').html(tabla1);
},
});

$.ajax({
url : 'recetas/agregarrecetas4.php',
data : {},
type : 'POST',
dataType: 'json',
async:false,
success:function(respuesta){
respuesta="["+respuesta+"]";
res=JSON.parse(respuesta);
tabla1="";
tabla1+="<option disable selected> -- Seleccione grupo -- </option>";
$.each(res,function(key,value){
tabla1+="<option>"+value.descripcion+"</option>";
});
$('#grupos').html(tabla1);
},
});

</script>


 <hr>

            
            <div class="col-md-4">
              
              <div class="row">
                
                <div class="col-xs-12">
                  <div class="form-group">
                    <label class="text-blue">ID. Receta</label>
                    <input type="text" name="idReceta" id="idReceta" class="form-control input-sm" placeholder="Ingresar ID de la receta" required />
                  </div>
                </div>

                <div class="col-xs-12">
                  <div class="form-group">
                    <label class="text-blue">Nombre</label>
                    <input type="text" name="nombre" id="nombre" class="form-control input-sm" placeholder="Ingresar nombre de la receta" required />
                  </div>
                </div>

                <div class="col-xs-12">
                  <div class="form-group">
                    <label class="text-blue">Base</label>
                    <input type="text" name="base" id="base" class="form-control input-sm" placeholder="Ingresar base de la receta" required />
                  </div>
                </div>

                <div class="col-xs-12">
                  <div class="form-group">
                    <label class="text-blue">Tiempo</label>
                    <input type="text" name="tiempo" id="tiempo" class="form-control input-sm" placeholder="Ingresar tiempo" required />
                  </div>
                </div>
              
              </div>

            </div>
            <!-- final de col-md -->

            <div class="col-md-4">
              
              <div class="row">
                
                <div class="col-xs-12">
                  <div class="form-group">
                    <label class="text-blue">Calificación</label>
                    <input type="text" name="calificacion" id="calificacion" class="form-control input-sm" placeholder="Ingresar calificación" required />
                  </div>
                </div>

                <div class="col-xs-12">
                  <div class="form-group">
                    <label class="text-blue">Grupo</label>
                    <input type="text" name="grupo" id="grupo" class="form-control input-sm" placeholder="Ingresar grupo" required />
                  </div>
                </div>

                <div class="col-xs-12">
                  <div class="form-group">
                    <label class="text-blue">Observación</label>
                    <input type="text" name="observacion" id="observacion" class="form-control input-sm" placeholder="Observaciones" required />
                  </div>
                </div>

                <div class="col-xs-12">
                  <div class="form-group">
                    <label class="text-blue">Porciones</label>
                    <input type="text" name="porcion" id="porcion" class="form-control input-sm" placeholder="Ingresar Porción" required />
                  </div>
                </div>
              
              </div>

            </div>
            <!-- final de col-md -->

            <div class="col-md-4">
              
              <div class="row">
                
                <div class="col-xs-12">
                  <div class="form-group">
                    <label class="text-blue">Gramos</label>
                    <input type="text" name="gramos" id="gramos" class="form-control input-sm" placeholder="Ingresar gramos" required />
                  </div>
                </div>

                <div class="col-xs-12">
                  <div class="form-group">
                    <label class="text-blue">SubUnidad</label>
                    <input type="text" name="subunidad" id="subunidad" class="form-control input-sm" placeholder="Ingresar subunidad" required />
                  </div>
                </div>

                <div class="col-xs-12">
                  <div class="form-group">
                    <label class="text-blue">Elaboró</label>
                    <input type="text" name="elaboro" id="elaboro" class="form-control input-sm" placeholder="Ingresar nombre de quien elaboro" required />
                  </div>
                </div>

                <div class="col-xs-12">
                  <div class="form-group">
                    <label class="text-blue">Autorizó</label>
                    <input type="text" name="autorizo" id="autorizo" class="form-control input-sm" placeholder="Autorizó" required />
                  </div>
                </div>
              
              </div>

            </div>
            <!-- final de col-md -->